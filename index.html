<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Our Stargazing Night</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>

<style>
  body {
    margin: 0;
    overflow: hidden;
    background: black;
  }
  canvas {
    display: block;
  }
</style>
</head>

<body>

<script>
/* =========================
   ðŸŒŒ BASIC SETUP
========================= */
const scene = new THREE.Scene();
scene.fog = new THREE.FogExp2(0x000000, 0.01);

const camera = new THREE.PerspectiveCamera(
  75,
  window.innerWidth / window.innerHeight,
  0.1,
  1000
);
camera.position.set(0, 6, 18);

const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);
renderer.setClearColor(0x000010);
document.body.appendChild(renderer.domElement);

/* =========================
   ðŸŒŸ REALISTIC SPARKLY STARS
========================= */
const starCount = 6000;
const starGeometry = new THREE.BufferGeometry();
const positions = [];
const colors = [];

for (let i = 0; i < starCount; i++) {

  positions.push(
    (Math.random() - 0.5) * 400,
    Math.random() * 200,
    (Math.random() - 0.5) * 400
  );

  const color = new THREE.Color();
  const hue = 0.55 + Math.random() * 0.1; // blue-white range
  const lightness = 0.7 + Math.random() * 0.3;
  color.setHSL(hue, 0.8, lightness);

  colors.push(color.r, color.g, color.b);
}

starGeometry.setAttribute(
  "position",
  new THREE.Float32BufferAttribute(positions, 3)
);

starGeometry.setAttribute(
  "color",
  new THREE.Float32BufferAttribute(colors, 3)
);

const starMaterial = new THREE.PointsMaterial({
  size: 0.8,
  vertexColors: true,
  transparent: true,
  blending: THREE.AdditiveBlending,
  depthWrite: false
});

const stars = new THREE.Points(starGeometry, starMaterial);
scene.add(stars);

/* =========================
   ðŸŒ¿ CURVED GREEN HILL
========================= */
const hillGeometry = new THREE.SphereGeometry(
  60,
  128,
  128,
  0,
  Math.PI * 2,
  0,
  Math.PI / 2
);

const hillMaterial = new THREE.MeshStandardMaterial({
  color: 0x0f3d1e,
  roughness: 1,
  metalness: 0
});

const hill = new THREE.Mesh(hillGeometry, hillMaterial);
hill.position.y = -50;
scene.add(hill);

/* =========================
   ðŸŒ™ MOON
========================= */
const moonGeometry = new THREE.SphereGeometry(5, 64, 64);
const moonMaterial = new THREE.MeshBasicMaterial({ color: 0xf5f3ce });
const moon = new THREE.Mesh(moonGeometry, moonMaterial);
moon.position.set(-30, 40, -80);
scene.add(moon);

/* =========================
   ðŸ’¡ LIGHTING
========================= */
const ambientLight = new THREE.AmbientLight(0x404060, 1.5);
scene.add(ambientLight);

const moonLight = new THREE.DirectionalLight(0xbfdfff, 1);
moonLight.position.set(-30, 50, -40);
scene.add(moonLight);

/* =========================
   ðŸŽ¥ ANIMATION
========================= */
function animate() {
  requestAnimationFrame(animate);

  // subtle star shimmer
  starMaterial.size = 0.7 + Math.sin(Date.now() * 0.002) * 0.2;

  // slight breathing camera
  camera.position.z = 18 + Math.sin(Date.now() * 0.0005) * 0.7;

  // slow sky rotation
  stars.rotation.y += 0.0002;

  renderer.render(scene, camera);
}

animate();

/* =========================
   ðŸ“± RESPONSIVE
========================= */
window.addEventListener("resize", () => {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>

</body>
</html>

