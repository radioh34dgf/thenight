<!DOCTYPE html>
<html>
<head>
  <title>The Night We Built</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin: 0; overflow: hidden; background: #000; }
    canvas { display: block; }
  </style>
</head>
<body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>
  const scene = new THREE.Scene();
  scene.background = new THREE.Color(0x000814);

  const camera = new THREE.PerspectiveCamera(
    75,
    window.innerWidth / window.innerHeight,
    0.1,
    1000
  );
  camera.position.z = 5;

  const renderer = new THREE.WebGLRenderer({ antialias: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  // Stars
  const starGeometry = new THREE.BufferGeometry();
  const starCount = 2000;
  const positions = [];

  for (let i = 0; i < starCount; i++) {
    positions.push(
      (Math.random() - 0.5) * 200,
      (Math.random() - 0.5) * 200,
      (Math.random() - 0.5) * 200
    );
  }

  starGeometry.setAttribute(
    'position',
    new THREE.Float32BufferAttribute(positions, 3)
  );

  const starMaterial = new THREE.PointsMaterial({
    color: 0xffffff,
    size: 0.7
  });

  const stars = new THREE.Points(starGeometry, starMaterial);
  scene.add(stars);

  // Moon
  const moonGeometry = new THREE.SphereGeometry(2, 64, 64);
  const moonMaterial = new THREE.MeshBasicMaterial({ color: 0xf5f3ce });
  const moon = new THREE.Mesh(moonGeometry, moonMaterial);
  moon.position.set(8, 5, -20);
  scene.add(moon);

  // Crescent effect
  const shadowGeometry = new THREE.SphereGeometry(2.05, 64, 64);
  const shadowMaterial = new THREE.MeshBasicMaterial({ color: 0x000814 });
  const shadow = new THREE.Mesh(shadowGeometry, shadowMaterial);
  shadow.position.set(8.8, 5, -20);
  scene.add(shadow);

  // Mouse movement for camera drift
  let mouseX = 0;
  let mouseY = 0;

  document.addEventListener("mousemove", (event) => {
    mouseX = (event.clientX / window.innerWidth - 0.5) * 2;
    mouseY = (event.clientY / window.innerHeight - 0.5) * 2;
  });

  function animate() {
    requestAnimationFrame(animate);

    stars.rotation.y += 0.0005;

    camera.position.x += (mouseX * 2 - camera.position.x) * 0.02;
    camera.position.y += (-mouseY * 2 - camera.position.y) * 0.02;

    camera.lookAt(scene.position);

    renderer.render(scene, camera);
  }

  animate();

  window.addEventListener("resize", () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
</script>

</body>
</html>
